<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <div th:fragment="fragment-job-category(selectedCategoryId,selectedPositionId,categoryList,positionList)" class="d-flex">
    <script th:src="@{/js/jobCategoryForm.js}" href="../js/jobCategoryForm.js"></script>
    <div class="me-3">
      <label class="m-2">분야</label>
      <div>
        <select id="categoryId" name="categoryId" class="form-select" aria-label="Select category">
          <option th:if="${categoryId != null}" disabled>분야 선택</option>
          <option value="">공통</option>
          <option th:each="category : ${categoryList}"
                  th:value="${category.id}" th:text="${category.name}"
                  th:selected="${category.id == selectedCategoryId}">IT (프로그래밍)</option>
        </select>
      </div>
      <div class="m-2">
        <button type="button" class="btn btn-dark" onclick="showCategoryToast()">분야 추가</button>
      </div>
    </div>

    <div class="row ms-5 mb-3">
      <div class="col-3 toast align-items-center mb-3" id="categoryOptionToast" role="polite" aria-live="assertive" aria-atomic="true" data-bs-delay="15000">
        <div class="d-flex" style="min-width:0px">
          <div class="toast-body">
            <div class="row align-items-center">
              <div class="col-9">
                <input type="text" class="form-control" id="customCategory" placeholder="추가할 분야"/>
              </div>
              <div class="col-3">
                <button type="button" class="btn btn-sm btn-primary" onclick="addCategory()">추가</button>
              </div>
            </div>
          </div>
          <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    </div>

    <div class="me-3">
      <label class="m-2">직군</label>
      <div class="me-3">
        <select id="positionId" name="positionId" class="form-select" aria-label="Select position">
          <option value="">공통</option>
          <option th:each="position : ${positionList}"
                  th:value="${position.id}" th:text="${position.name}"
                  th:selected="${position.id == selectedPositionId}">백엔드, 모바일</option>
        </select>
      </div>
      <div class="m-2">
        <button type="button" class="btn btn-dark" onclick="showPositionToast()">직군 추가</button>
      </div>
    </div>

    <div class="row ms-5 mb-3">
      <div class="col-3 toast align-items-center mb-3" id="positionOptionToast" role="polite" aria-live="assertive" aria-atomic="true" data-bs-delay="15000">
        <div class="d-flex" style="min-width:0px">
          <div class="toast-body">
            <div class="row align-items-center">
              <div class="col-9">
                <input type="text" class="form-control" id="customPosition" placeholder="추가할 직군"/>
              </div>
              <div class="col-3">
                <button type="button" class="btn btn-sm btn-primary" onclick="addPosition()">추가</button>
              </div>
            </div>
          </div>
          <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    </div>
  </div>
</html>